<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Air Pollution in the United States</title>

  <link href="https://stackpath.bootstrapcdn.com/bootswatch/4.5.0/cyborg/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GKugkVcT8wqoh3M8z1lqHbU+g6j498/ZT/zuXbepz7Dc09/otQZxTimkEMTkRWHP" crossorigin="anonymous">
  <style>
    #map {
      width: 175vh;
      height: 40vh;
    }

    #about {
      max-height: 40vh;
      max-width: 40vh;
      position: relative;
      right: 119vh;
      top: 15vh;
      visibility: hidden;
    }

    #attribution {
      visibility: hidden;
    }

    #dropdown-tm {
      position: fixed;
      top: 10vh;
      right: 2vh;
    }

    #dropdown-ui {
      position: fixed;
      top: 15vh;
      right: 2vh;
    }

    /* Small devices (landscape phones, 576px and up) */
    @media (min-width: 576px) {
      #about {
        visibility: hidden;
      }
      #attribution {
        visibility: hidden;
      }
    }

    /* Medium devices (tablets, 768px and up) */
    @media (min-width: 768px) {
      #map {
        height: 60vh;
      }
      #about {
        visibility: hidden;
      }
      #attribution {
        visibility: visible;
      }
    }

    /* Large devices (desktops, 992px and up) */
    @media (min-width: 992px) {

      #map {
        height: 80vh;
      }
      #about {
        visibility: visible;
      }
      #attribution {
        visibility: visible;
      }
    }

    /* Extra large devices (large desktops, 1200px and up) */
    @media (min-width: 1200px) {
      #about {
        visibility: visible;
      }
      #attribution {
        visibility: visible;
      }
    }

    .county {
      fill: white;
      stroke: black;
      stroke-width: 1;
    }

    .pollution {
      opacity: 1;
    }

    .pollution:hover {
      stroke-width: 2;
    }

    .legend circle {
      fill: none;
      stroke: #ccc;
    }

    .legend text {
      fill: #777;
      font: 10px sans-serif;
      text-anchor: middle;
    }
  </style>

</head>

<body>

  <div class="container-fluid">
    <header class="row py-3 bg-dark text-white">
      <div class="col mx-2">
        <h2 class="h2">The Prevalence of the Six Major Kinds of Air Pollution in the U.S.</h1>
      </div>
    </header>

    <section class="row bg-secondary">
      <div class="col-12 col-md-7 col-lg-8 px-0">
        <div id="map" class="bg-light position-relative"></div>
        <canvas id="legend" width=5 height=5></canvas>
        <div class="form-group mr-3 mt-3" id="dropdown-tm">
          <select class="form-control bg-primary text-white">
            <option value="county_select" selected>Counties</option>
            <option value="point_select">Points</option>
          </select>
        </div>
        <div class="form-group mr-3 mt-3" id="dropdown-ui">
          <select class="form-control bg-primary text-white">
            <option value="air_pollution_data_Carb" selected>Carbon monoxide</option>
            <option value="air_pollution_data_Lead">Lead</option>
            <option value="air_pollution_data_Nitro">Nitrogren dioxide</option>
            <option value="air_pollution_data_Ozo">Ozone</option>
            <option value="air_pollution_data_Part">Particulate matter</option>
            <option value="air_pollution_data_Sulf">Sulfur dioxide</option>
          </select>
        </div>

      </div>
      <aside id="about" class="col-12 col-md-5 col-lg-4 text-dark py-2">
        <section>
          <h2 class="h2 text-dark">About this map</h2>
          <p>
            The Environmental Protection Agency describes six common air pollutants as "criteria pollutants." These criteria pollutants are carbon monoxide, 
            lead, nitrogen dioxide, ozone, particulate matter, and sulfur dioxide. The EPA sets standards and regulations for these pollutants under the
            Clean Air Act.
          </p>
          <p>
            The EPA's AirData database provides information that the agency has collected on the presence of criteria pollutants at monitoring sites.
            This data has been incorporated into this map to visualize where criteria pollutants have been found in the United States, and to what extent.
          </p>
          <p>
            The first dropdown menu in the top right can be used to see polygonal data by county or point data by individual monitoring site. The second
            filters the data by criteria pollutant. For both maps, colors darken where air pollution is more prevalent. For the point map, the points also
            increase in size.
          </p>
          <p>
            By hovering over a county or point, a popup appears to name the location and specify the exact value of pollution discovered.
          </p>
        </section>
      </aside>
    </section>
    <footer class="row bg-dark text-white py-3" id="attribution">
      <div class="col mx-2">
        <ul class="list-unstyled">
          <li>Authored by Daniel Helton</li>
          <li>6/4/20</li>
          <li>Data courtesy <a href="https://newmapsplus.as.uky.edu/">New Maps Plus</a>, <a
              href="https://aqs.epa.gov/aqsweb/airdata/download_files.html">AirData from the EPA</a>, and <a
              href="https://mapshaper.org/"">Mapshaper</a></li>
          <li>Made with HTML, CSS, JavaScript, <a href=" https://www.qgis.org/en/site/">QGIS</a>, and <a
              href="https://getbootstrap.com/">Bootstrap</a></li>
        </ul>
      </div>
    </footer>
  </div>


  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
    integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous">
    </script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
    </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
    integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous">
    </script>
  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin=""></script>

  <script src="https://d3js.org/d3.v5.js"></script>
  <script src="https://unpkg.com/topojson@3"></script>
  <script src='js/color-legend.js'></script>
  <script src='js/county.js'></script>

</body>

</html>